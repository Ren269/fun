<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Valentine</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Yeseva+One&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --rose-1: #f7a2b8;
        --rose-2: #f8c6d4;
        --text: #5b1b2d;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
      }

      body {
        margin: 0;
        overflow: hidden;
        background: radial-gradient(
          circle at top,
          #ffd1df 0%,
          var(--rose-2) 40%,
          var(--rose-1) 100%
        );
        font-family: "Nunito", sans-serif;
        color: var(--text);
      }

      canvas#fireworks {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
      }

      .wrapper {
        position: relative;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 24px;
        text-align: center;
        padding: 24px;
      }

      h1 {
        font-family: "Yeseva One", serif;
        font-size: clamp(28px, 5vw, 52px);
        margin: 0;
        text-shadow: 0 8px 24px rgba(91, 27, 45, 0.2);
      }

      .photo {
        width: min(70vw, 360px);
        border-radius: 24px;
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.2);
        border: 6px solid rgba(255, 255, 255, 0.5);
        background: rgba(255, 255, 255, 0.35);
        padding: 10px;
      }

      .photo img {
        display: block;
        width: 100%;
        height: auto;
        border-radius: 16px;
      }

      .yay {
        font-size: clamp(22px, 4vw, 32px);
        font-weight: 700;
        margin: 0;
        text-shadow: 0 6px 18px rgba(91, 27, 45, 0.2);
      }

      .love {
        font-size: clamp(20px, 4vw, 30px);
        font-weight: 700;
        margin: 0;
        letter-spacing: 1px;
        color: #6d0f2b;
        text-shadow: 0 8px 20px rgba(91, 27, 45, 0.25);
      }
    </style>
  </head>
  <body>
    <canvas id="fireworks" aria-hidden="true"></canvas>
    <div class="wrapper">
      <h1>You said yes!</h1>
      <div class="photo">
        <img src="assets/valentine.gif" alt="Cat holding a rose" />
      </div>
      <p class="yay">Yaaayyyyy!!!!</p>
      <p class="love">I LOVEE YOUUUUU❤️❤️❤️❤️</p>
    </div>

    <script>
      const canvas = document.getElementById("fireworks");
      const ctx = canvas.getContext("2d");
      const bursts = [];

      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }

      function randomBetween(min, max) {
        return Math.random() * (max - min) + min;
      }

      function createBurst() {
        const x = randomBetween(0.2, 0.8) * canvas.width;
        const y = randomBetween(0.12, 0.6) * canvas.height;
        const hue = randomBetween(0, 360);
        const count = Math.floor(randomBetween(34, 46));
        const particles = [];
        const scale = randomBetween(0.85, 1.15);

        for (let i = 0; i < count; i += 1) {
          const t = (Math.PI * 2 * i) / count;
          const heartX = 16 * Math.pow(Math.sin(t), 3);
          const heartY =
            13 * Math.cos(t) -
            5 * Math.cos(2 * t) -
            2 * Math.cos(3 * t) -
            Math.cos(4 * t);
          const speed = randomBetween(0.7, 1.4) * scale;
          const vx = (heartX / 16) * speed * 2.2;
          const vy = (-heartY / 16) * speed * 2.2;

          particles.push({
            x,
            y,
            vx,
            vy,
            life: randomBetween(55, 85),
            hue,
          });
        }

        bursts.push({ particles });
      }

      function step() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.globalCompositeOperation = "source-over";

        for (let i = bursts.length - 1; i >= 0; i -= 1) {
          const burst = bursts[i];
          for (let j = burst.particles.length - 1; j >= 0; j -= 1) {
            const p = burst.particles[j];
            p.x += p.vx;
            p.y += p.vy;
            p.vy += 0.02;
            p.life -= 1;

            const alpha = p.life / 70;
            ctx.fillStyle = `hsla(${p.hue}, 90%, 38%, ${alpha})`;
            ctx.strokeStyle = `hsla(${p.hue}, 90%, 20%, ${alpha})`;
            ctx.beginPath();
            ctx.arc(p.x, p.y, 2.6, 0, Math.PI * 2);
            ctx.fill();
            ctx.lineWidth = 1;
            ctx.stroke();

            if (p.life <= 0) {
              burst.particles.splice(j, 1);
            }
          }

          if (burst.particles.length === 0) {
            bursts.splice(i, 1);
          }
        }

        if (Math.random() < 0.04) {
          createBurst();
        }

        requestAnimationFrame(step);
      }

      resizeCanvas();
      window.addEventListener("resize", resizeCanvas);
      requestAnimationFrame(step);
    </script>
  </body>
</html>
